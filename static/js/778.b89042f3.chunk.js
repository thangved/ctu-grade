"use strict";(self.webpackChunkw5_tools=self.webpackChunkw5_tools||[]).push([[778],{92451:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(74165),i=n(1413),c=n(15861),o=n(29439),a=n(1122),s=n(59491),u=n(45705),l=n(43690),h=n(91287),d=n(97178),m=n(52550),f=n(7410),p=n(47313),x=n(77770),g="RequestAddCourseModal_button__fKFK+",Z=n(46417),y=function(){var e=(0,p.useState)(!1),t=(0,o.Z)(e,2),n=t[0],y=t[1],v=(0,p.useState)(!1),k=(0,o.Z)(v,2),j=k[0],b=k[1],C=(0,p.useState)(!1),w=(0,o.Z)(C,2),S=w[0],I=w[1],P=(0,f.TA)({initialValues:{key:"",name:"",weight:1},onSubmit:function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,x.Z.post("courses/request-add-course",(0,i.Z)({},t));case 4:n=e.sent,a.ZP.success(n.data.message),y(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a.ZP.error(e.t0.response.data.message),I(!0);case 13:b(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t={};return e.key||(t.key="M\xe3 h\u1ecdc ph\u1ea7n l\xe0 b\u1eaft bu\u1ed9c"),t}}),T=function(){return y(!n)};return(0,p.useEffect)((function(){I(!1)}),[P.values.key]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(s.ZP,{type:"link",block:!0,onClick:T,className:g,children:["Kh\xf4ng c\xf3 h\u1ecdc ph\u1ea7n b\u1ea1n \u0111ang t\xecm?",(0,Z.jsx)("br",{})," B\u1ea5m v\xe0o \u0111\xe2y \u0111\u1ec3 th\xeam nh\xe9."]}),(0,Z.jsx)(m.default,{confirmLoading:j,title:"Y\xeau c\u1ea7u b\u1ed5 sung th\xeam h\u1ecdc ph\u1ea7n",open:n,centered:!0,cancelText:"H\u1ee7y",okText:"Y\xeau c\u1ea7u",okType:S?"danger":"primary",onCancel:T,onOk:P.handleSubmit,afterClose:function(){P.resetForm()},children:(0,Z.jsx)("form",{onSubmit:P.handleSubmit,children:(0,Z.jsxs)(u.Z,{direction:"vertical",style:{width:"100%"},children:[(0,Z.jsx)(l.Z,{autoFocus:!0,placeholder:"M\xe3 h\u1ecdc ph\u1ea7n",value:P.values.key,name:"key",onChange:P.handleChange,onKeyDown:function(e){return"Enter"===e.code&&P.handleSubmit()},status:P.errors.key||S?"error":"",required:!0}),(0,Z.jsx)(h.Z,{style:{color:"red"},children:P.errors.key}),(0,Z.jsx)(l.Z,{placeholder:"T\xean h\u1ecdc ph\u1ea7n (T\xf9y ch\u1ecdn)",value:P.values.name,name:"name",onChange:P.handleChange}),(0,Z.jsx)(d.Z,{style:{width:"100%"},placeholder:"S\u1ed1 t\xedn ch\u1ec9 (T\xf9y ch\u1ecdn)",value:P.values.weight,onChange:P.handleChange,name:"weight",type:"number"})]})})})]})}},21778:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(68197),i=n(59624),c=n(90182),o=n(93433),a=n(29439),s=n(47313),u=n(46417),l=(0,s.createContext)({courses:[{key:"",name:"",digit:0,txt:"",four:0}],avg:0,addCourses:Function,removeCourses:Function}),h=function(e){var t=e.children,n=(0,s.useState)(JSON.parse(localStorage.getItem("courses")||"[]")),r=(0,a.Z)(n,2),i=r[0],c=r[1],h=(0,s.useState)(0),d=(0,a.Z)(h,2),m=d[0],f=d[1];return(0,s.useEffect)((function(){var e;localStorage.setItem("courses",JSON.stringify(i));var t=0,n=0;if(i.forEach((function(e){t+=Number(e.weight),n+=e.four*Number(e.weight)})),0===t)return f(0);var r="".concat(n/t);(r=r.split("."))[1]=(null===(e=r[1])||void 0===e?void 0:e.slice(0,2))||0,r=r.join("."),0!==t&&f(r)}),[i]),(0,u.jsx)(l.Provider,{value:{courses:i,avg:m,addCourses:function(e){return c((function(t){return[].concat((0,o.Z)(t.filter((function(t){return t.key!==e.key}))),[e])}))},removeCourses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){c((function(t){return t.filter((function(t){return t.key!==e}))}))}))}},children:t})},d=n(4876),m=n(45705),f=n(23983),p=n(59491),x=n(51415),g=n(4988),Z=n(55239),y=[{title:"M\xe3 h\u1ecdc ph\u1ea7n",dataIndex:"key",key:"key",width:150,fixed:"left"},{title:"T\xean h\u1ecdc ph\u1ea7n",dataIndex:"name",key:"name",width:150},{title:"S\u1ed1 t\xedn ch\u1ec9",dataIndex:"weight",key:"weight",width:150},{title:"\u0110i\u1ec3m thang 10",dataIndex:"digit",key:"digit",width:150},{title:"\u0110i\u1ec3m thang 4",dataIndex:"four",key:"four",width:150},{title:"\u0110i\u1ec3m ch\u1eef",dataIndex:"txt",key:"txt",with:150}],v=function(){var e=(0,s.useContext)(l),t=e.courses,n=e.avg,r=e.removeCourses,i=(0,s.useState)([]),c=(0,a.Z)(i,2),o=c[0],h=c[1];return(0,u.jsxs)(m.Z,{direction:"vertical",style:{maxWidth:"calc(100vw - 100px)",overflow:"auto"},children:[(0,u.jsx)(f.Z,{title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ".concat(o.length," h\u1ecdc ph\u1ea7n?"),disabled:0===o.length||0===t.length,placement:"bottom",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onConfirm:function(){return r(o)},children:(0,u.jsx)(p.ZP,{danger:!0,icon:(0,u.jsx)(d.E0z,{}),disabled:0===o.length||0===t.length,children:"X\xf3a"})}),(0,u.jsx)(x.Z,{bordered:!0,rowSelection:{selectedRowKeys:o,onChange:function(e){return h(e)}},pagination:{pageSize:9},dataSource:t,columns:y,scroll:{x:900,y:"100vh"},id:"course-table"}),(0,u.jsxs)(g.Z,{layout:"vertical",bordered:!0,children:[(0,u.jsx)(g.Z.Item,{span:4,label:"\u0110i\u1ec3m trung b\xecnh",children:(0,u.jsx)(Z.Z,{strokeColor:{"0%":"#108ee9","100%":"#87d068"},type:"circle",percent:100*n/4,format:function(e){return"".concat(4*e/100,"/4")}})},"avg"),t.map((function(e){return(0,u.jsx)(g.Z.Item,{span:1,label:e.name,children:(0,u.jsx)(Z.Z,{type:"circle",percent:100*e.four/4,format:function(e){return"".concat(4*e/100,"/4")}})},e.key)}))]})]})},k=n(1413),j=n(74165),b=n(15861),C=n(1122),w=n(56744),S=n(43690),I=n(69918),P=n(5670),T=n(92633),E=n(92451),B=n(77770),N=n(97178),F=n(52550),K=function(e){var t=4,n="A";return e<9&&(t=3.5,n="B+"),e<8&&(t=3,n="B"),e<7&&(t=2.5,n="C+"),e<6.5&&(t=2,n="C"),e<5.5&&(t=1.5,n="D+"),e<5&&(t=1,n="D"),e<4&&(t=0,n="F"),{four:t,txt:n}},O=function(e){var t=e.open,n=e.course,r=e.onClose,i=void 0===r?function(){}:r,c=(0,s.useContext)(l).addCourses,o=(0,s.useState)(0),h=(0,a.Z)(o,2),d=h[0],m=h[1],f=(0,s.useState)(0),p=(0,a.Z)(f,2),x=p[0],Z=p[1],y=(0,s.useState)(""),v=(0,a.Z)(y,2),j=v[0],b=v[1];return(0,s.useEffect)((function(){var e=K(d),t=e.four,n=e.txt;Z(t),b(n)}),[d]),(0,u.jsxs)(F.default,{open:t,onCancel:i,onOk:function(){c((0,k.Z)((0,k.Z)({},n),{},{digit:d,four:x,txt:j})),i(),C.ZP.success("\u0110\xe3 th\xeam h\u1ecdc ph\u1ea7n."),m(10)},okButtonProps:{id:"ok-button"},children:[(0,u.jsx)("h2",{children:n.name}),(0,u.jsx)("h3",{children:n.key}),(0,u.jsxs)(g.Z,{layout:"vertical",bordered:!0,children:[(0,u.jsx)(g.Z.Item,{span:4,label:"\u0110i\u1ec3m thang 10",children:(0,u.jsx)(N.Z,{max:10,min:0,style:{width:"100%"},onChange:function(e){return m(e)},onKeyPress:function(e){"Enter"===e.key&&(c((0,k.Z)((0,k.Z)({},n),{},{digit:d,four:x,txt:j})),i(),C.ZP.success("\u0110\xe3 th\xeam h\u1ecdc ph\u1ea7n."),m(10))},id:"grade-input"})}),(0,u.jsx)(g.Z.Item,{span:4,label:"\u0110i\u1ec3m thang 4",children:x}),(0,u.jsx)(g.Z.Item,{span:4,label:"\u0110i\u1ec3m ch\u1eef",children:j})]})]})},z=[{title:"T\xecm ki\u1ebfm h\u1ecdc ph\u1ea7n",description:"Nh\u1eadp t\u1eeb kh\xf3a v\xe0o \xf4 t\xecm ki\u1ebfm",target:function(){return document.getElementById("search-container").focus(),document.getElementById("search-container")}},{title:"T\xecm ki\u1ebfm h\u1ecdc ph\u1ea7n",description:"Nh\u1ea5n v\xe0o n\xfat t\xecm ki\u1ebfm ho\u1eb7c nh\u1ea5n enter",target:function(){return document.getElementById("search-button")}},{title:"Ch\u1ecdn h\u1ecdc ph\u1ea7n mong mu\u1ed1n",description:"Ch\u1ecdn h\u1ecdc ph\u1ea7n mu\u1ed1n th\xeam v\xe0 nh\u1ea5n v\xe0o n\xfat th\xeam \u1edf b\xean c\u1ea1nh",target:function(){return document.getElementById("course-list")}},{title:"Nh\u1eadp \u0111i\u1ec3m",description:"Nh\u1eadp \u0111i\u1ec3m h\u1ecdc ph\u1ea7n (thang 10)",target:function(){return document.getElementById("grade-input")}},{title:"Th\xeam h\u1ecdc ph\u1ea7n",description:"Nh\u1ea5n v\xe0o n\xfat OK \u0111\u1ec3 th\xeam h\u1ecdc ph\u1ea7n",target:function(){return document.getElementById("ok-button")}},{title:"Ho\xe0n th\xe0nh",description:"V\u1eady l\xe0 b\u1ea1n \u0111\xe3 ho\xe0n t\u1ea5t vi\u1ec7c nh\u1eadp \u0111i\u1ec3m m\u1ed9t h\u1ecdc ph\u1ea7n g\xf2i \u0111\xf3, hehe!",target:function(){return document.getElementById("course-table")}}],M=function(){var e=(0,s.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],i=(0,s.useState)(!1),c=(0,a.Z)(i,2),o=c[0],l=c[1],h=(0,s.useState)(""),m=(0,a.Z)(h,2),f=m[0],x=m[1],g=(0,s.useState)(!1),Z=(0,a.Z)(g,2),y=Z[0],v=Z[1],N=(0,s.useState)({visible:!1,course:{}}),F=(0,a.Z)(N,2),K=F[0],M=F[1],_=(0,s.useState)(!1),q=(0,a.Z)(_,2),H=q[0],A=q[1],D=function(){var e=(0,b.Z)((0,j.Z)().mark((function e(){var t,n;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f.length<3)){e.next=2;break}return e.abrupt("return",C.ZP.warning("Vui l\xf2ng nh\u1eadp \xedt nh\u1ea5t 3 k\xfd t\u1ef1"));case 2:if(!o){e.next=4;break}return e.abrupt("return");case 4:return t=C.ZP.loading("\u0110ang t\xecm ki\u1ebfm h\u1ecdc ph\u1ea7n",0),e.prev=5,l(!0),e.next=9,B.Z.get("courses/search/".concat(f));case 9:if((n=e.sent).data){e.next=12;break}return e.abrupt("return");case 12:r(n.data),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(5);case 17:return e.prev=17,v(!0),l(!1),t(),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[5,15,17,22]])})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(w.Z,{style:{width:"100%"},children:[(0,u.jsx)(p.ZP,{style:{marginBottom:5},size:"small",type:"primary",onClick:function(){return A(!H)},children:"H\u01b0\u1edbng d\u1eabn"}),(0,u.jsx)(w.Z.Item,{style:{width:"100%"},children:(0,u.jsxs)(S.Z.Group,{style:{width:"100%"},compact:!0,children:[(0,u.jsx)(S.Z,{id:"search-container",autoFocus:!0,style:{width:"calc(100% - 120px)"},placeholder:"T\xecm ki\u1ebfm h\u1ecdc ph\u1ea7n",onChange:function(e){return x(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&D()}}),(0,u.jsx)(p.ZP,{id:"search-button",icon:(0,u.jsx)(d.l62,{}),type:"primary",loading:o,onClick:D,children:"T\xecm ki\u1ebfm"})]})}),(0,u.jsxs)(w.Z.Item,{children:[o&&(0,u.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",background:"#ffffff90",zIndex:100},children:(0,u.jsx)(I.Z,{})}),(0,u.jsx)(P.ZP,{id:"course-list",pagination:{pageSize:9,hideOnSinglePage:!0},dataSource:n,renderItem:function(e){return(0,u.jsx)(P.ZP.Item,{actions:[(0,u.jsx)(p.ZP,{type:"link",onClick:function(){M({course:e,visible:!0})},children:"Th\xeam"})],children:(0,u.jsx)(P.ZP.Item.Meta,{title:e.name,description:e.key})})}})]}),y&&(0,u.jsx)(E.Z,{}),(0,u.jsx)(O,{open:K.visible,course:K.course,onClose:function(){return M((function(e){return(0,k.Z)((0,k.Z)({},e),{},{visible:!1})}))}}),(0,u.jsx)(T.Z,{open:H,onClose:function(){return A(!1)},steps:z})]})},_=function(){return(0,u.jsxs)(h,{children:[(0,u.jsx)(c.q,{children:(0,u.jsx)("title",{children:"C\xf4ng c\u1ee5 t\xednh \u0111i\u1ec3m trung b\xecnh | w5 tools"})}),(0,u.jsxs)(r.Z,{style:{padding:10},children:[(0,u.jsx)(i.Z,{lg:8,md:8,xs:24,children:(0,u.jsx)(M,{})}),(0,u.jsx)(i.Z,{lg:16,md:16,xs:24,children:(0,u.jsx)(v,{})})]})]})}},77770:function(e,t,n){n.d(t,{Z:function(){return r}});var r=n(63033).Z.create({baseURL:"https://api.tools.thangved.com/"})}}]);