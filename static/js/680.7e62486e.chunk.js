"use strict";(self.webpackChunkw5_tools=self.webpackChunkw5_tools||[]).push([[680],{94752:(e,t,n)=>{n.d(t,{c:()=>g});var c=n(7396),s=n(34072),r=n(22256),a=n(21080),i=n(1108),o=n(23920),l=n(5040),h=n(64424),d=n(99584),u=n(26648);const m="RequestAddCourseModal_button__fKFK+";var p=n(97884);const g=()=>{const[e,t]=(0,d.useState)(!1),[n,g]=(0,d.useState)(!1),[x,y]=(0,d.useState)(!1),j=(0,h.KO)({initialValues:{key:"",name:"",weight:1},onSubmit:async e=>{g(!0);try{const n=await u.c.post("courses/request-add-course",{...e});c.cp.success(n.data.message),t(!1)}catch(n){c.cp.error(n.response.data.message),y(!0)}g(!1)},validate:e=>{const t={};return e.key||(t.key="M\xe3 h\u1ecdc ph\u1ea7n l\xe0 b\u1eaft bu\u1ed9c"),t}}),k=()=>t(!e);return(0,d.useEffect)((()=>{y(!1)}),[j.values.key]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(s.cp,{type:"link",block:!0,onClick:k,className:m,children:["Kh\xf4ng c\xf3 h\u1ecdc ph\u1ea7n b\u1ea1n \u0111ang t\xecm?",(0,p.jsx)("br",{})," B\u1ea5m v\xe0o \u0111\xe2y \u0111\u1ec3 th\xeam nh\xe9."]}),(0,p.jsx)(l.c,{confirmLoading:n,title:"Y\xeau c\u1ea7u b\u1ed5 sung th\xeam h\u1ecdc ph\u1ea7n",open:e,centered:!0,cancelText:"H\u1ee7y",okText:"Y\xeau c\u1ea7u",okType:x?"danger":"primary",onCancel:k,onOk:j.handleSubmit,afterClose:()=>{j.resetForm()},children:(0,p.jsx)("form",{onSubmit:j.handleSubmit,children:(0,p.jsxs)(r.c,{direction:"vertical",style:{width:"100%"},children:[(0,p.jsx)(a.c,{autoFocus:!0,placeholder:"M\xe3 h\u1ecdc ph\u1ea7n",value:j.values.key,name:"key",onChange:j.handleChange,onKeyDown:e=>"Enter"===e.code&&j.handleSubmit(),status:j.errors.key||x?"error":"",required:!0}),(0,p.jsx)(i.c,{style:{color:"red"},children:j.errors.key}),(0,p.jsx)(a.c,{placeholder:"T\xean h\u1ecdc ph\u1ea7n (T\xf9y ch\u1ecdn)",value:j.values.name,name:"name",onChange:j.handleChange}),(0,p.jsx)(o.c,{style:{width:"100%"},placeholder:"S\u1ed1 t\xedn ch\u1ec9 (T\xf9y ch\u1ecdn)",value:j.values.weight,onChange:j.handleChange,name:"weight",type:"number"})]})})})]})}},20680:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var c=n(68768),s=n(10260),r=n(16248),a=n(99584),i=n(97884);const o=(0,a.createContext)({courses:[{key:"",name:"",digit:0,txt:"",four:0}],avg:0,addCourses:Function,removeCourses:Function}),l=e=>{let{children:t}=e;const[n,c]=(0,a.useState)(JSON.parse(localStorage.getItem("courses")||"[]")),[s,r]=(0,a.useState)(0);return(0,a.useEffect)((()=>{var e;localStorage.setItem("courses",JSON.stringify(n));let t=0,c=0;if(n.forEach((e=>{t+=Number(e.weight),c+=e.four*Number(e.weight)})),0===t)return r(0);let s="".concat(c/t);s=s.split("."),s[1]=(null===(e=s[1])||void 0===e?void 0:e.slice(0,2))||0,s=s.join("."),0!==t&&r(s)}),[n]),(0,i.jsx)(o.Provider,{value:{courses:n,avg:s,addCourses:e=>c((t=>[...t.filter((t=>t.key!==e.key)),e])),removeCourses:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>{c((t=>t.filter((t=>t.key!==e))))}))}},children:t})};var h=n(57148),d=n(22256),u=n(6436),m=n(34072),p=n(49352),g=n(61104),x=n(8568);const y=[{title:"M\xe3 h\u1ecdc ph\u1ea7n",dataIndex:"key",key:"key",width:150,fixed:"left"},{title:"T\xean h\u1ecdc ph\u1ea7n",dataIndex:"name",key:"name",width:150},{title:"S\u1ed1 t\xedn ch\u1ec9",dataIndex:"weight",key:"weight",width:150},{title:"\u0110i\u1ec3m thang 10",dataIndex:"digit",key:"digit",width:150},{title:"\u0110i\u1ec3m thang 4",dataIndex:"four",key:"four",width:150},{title:"\u0110i\u1ec3m ch\u1eef",dataIndex:"txt",key:"txt",with:150}],j=()=>{const{courses:e,avg:t,removeCourses:n}=(0,a.useContext)(o),[c,s]=(0,a.useState)([]);return(0,i.jsxs)(d.c,{direction:"vertical",style:{maxWidth:"calc(100vw - 100px)",overflow:"auto"},children:[(0,i.jsx)(u.c,{title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ".concat(c.length," h\u1ecdc ph\u1ea7n?"),disabled:0===c.length||0===e.length,placement:"bottom",okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onConfirm:()=>n(c),children:(0,i.jsx)(m.cp,{danger:!0,icon:(0,i.jsx)(h.DeleteOutlined,{}),disabled:0===c.length||0===e.length,children:"X\xf3a"})}),(0,i.jsx)(p.c,{bordered:!0,rowSelection:{selectedRowKeys:c,onChange:e=>s(e)},pagination:{pageSize:9},dataSource:e,columns:y,scroll:{x:900,y:"100vh"},id:"course-table"}),(0,i.jsxs)(g.c,{layout:"vertical",bordered:!0,children:[(0,i.jsx)(g.c.Item,{span:4,label:"\u0110i\u1ec3m trung b\xecnh",children:(0,i.jsx)(x.c,{strokeColor:{"0%":"#108ee9","100%":"#87d068"},type:"circle",percent:100*t/4,format:e=>"".concat(4*e/100,"/4")})},"avg"),e.map((e=>(0,i.jsx)(g.c.Item,{span:1,label:e.name,children:(0,i.jsx)(x.c,{type:"circle",percent:100*e.four/4,format:e=>"".concat(4*e/100,"/4")})},e.key)))]})]})};var k=n(7396),f=n(12076),v=n(21080),b=n(2936),C=n(70513),w=n(16816),S=n(94752),I=n(26648),T=n(23920),E=n(5040);const B=e=>{let t=4,n="A";return e<9&&(t=3.5,n="B+"),e<8&&(t=3,n="B"),e<7&&(t=2.5,n="C+"),e<6.5&&(t=2,n="C"),e<5.5&&(t=1.5,n="D+"),e<5&&(t=1,n="D"),e<4&&(t=0,n="F"),{four:t,txt:n}},N=e=>{let{open:t,course:n,onClose:c=(()=>{})}=e;const{addCourses:s}=(0,a.useContext)(o),[r,l]=(0,a.useState)(0),[h,d]=(0,a.useState)(0),[u,m]=(0,a.useState)("");return(0,a.useEffect)((()=>{const{four:e,txt:t}=B(r);d(e),m(t)}),[r]),(0,i.jsxs)(E.c,{open:t,onCancel:c,onOk:()=>{s({...n,digit:r,four:h,txt:u}),c(),k.cp.success("\u0110\xe3 th\xeam h\u1ecdc ph\u1ea7n."),l(10)},okButtonProps:{id:"ok-button"},children:[(0,i.jsx)("h2",{children:n.name}),(0,i.jsx)("h3",{children:n.key}),(0,i.jsxs)(g.c,{layout:"vertical",bordered:!0,children:[(0,i.jsx)(g.c.Item,{span:4,label:"\u0110i\u1ec3m thang 10",children:(0,i.jsx)(T.c,{max:10,min:0,style:{width:"100%"},onChange:e=>l(e),onKeyPress:e=>{"Enter"===e.key&&(s({...n,digit:r,four:h,txt:u}),c(),k.cp.success("\u0110\xe3 th\xeam h\u1ecdc ph\u1ea7n."),l(10))},id:"grade-input"})}),(0,i.jsx)(g.c.Item,{span:4,label:"\u0110i\u1ec3m thang 4",children:h}),(0,i.jsx)(g.c.Item,{span:4,label:"\u0110i\u1ec3m ch\u1eef",children:u})]})]})},K=[{title:"T\xecm ki\u1ebfm h\u1ecdc ph\u1ea7n",description:"Nh\u1eadp t\u1eeb kh\xf3a v\xe0o \xf4 t\xecm ki\u1ebfm",target:()=>(document.getElementById("search-container").focus(),document.getElementById("search-container"))},{title:"T\xecm ki\u1ebfm h\u1ecdc ph\u1ea7n",description:"Nh\u1ea5n v\xe0o n\xfat t\xecm ki\u1ebfm ho\u1eb7c nh\u1ea5n enter",target:()=>document.getElementById("search-button")},{title:"Ch\u1ecdn h\u1ecdc ph\u1ea7n mong mu\u1ed1n",description:"Ch\u1ecdn h\u1ecdc ph\u1ea7n mu\u1ed1n th\xeam v\xe0 nh\u1ea5n v\xe0o n\xfat th\xeam \u1edf b\xean c\u1ea1nh",target:()=>document.getElementById("course-list")},{title:"Nh\u1eadp \u0111i\u1ec3m",description:"Nh\u1eadp \u0111i\u1ec3m h\u1ecdc ph\u1ea7n (thang 10)",target:()=>document.getElementById("grade-input")},{title:"Th\xeam h\u1ecdc ph\u1ea7n",description:"Nh\u1ea5n v\xe0o n\xfat OK \u0111\u1ec3 th\xeam h\u1ecdc ph\u1ea7n",target:()=>document.getElementById("ok-button")},{title:"Ho\xe0n th\xe0nh",description:"V\u1eady l\xe0 b\u1ea1n \u0111\xe3 ho\xe0n t\u1ea5t vi\u1ec7c nh\u1eadp \u0111i\u1ec3m m\u1ed9t h\u1ecdc ph\u1ea7n g\xf2i \u0111\xf3, hehe!",target:()=>document.getElementById("course-table")}],O=()=>{const[e,t]=(0,a.useState)([]),[n,c]=(0,a.useState)(!1),[s,r]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[d,u]=(0,a.useState)({visible:!1,course:{}}),[p,g]=(0,a.useState)(!1),x=async()=>{if(s.length<3)return k.cp.warning("Vui l\xf2ng nh\u1eadp \xedt nh\u1ea5t 3 k\xfd t\u1ef1");if(n)return;const e=k.cp.loading("\u0110ang t\xecm ki\u1ebfm h\u1ecdc ph\u1ea7n",0);try{c(!0);const e=await I.c.get("courses/search/".concat(s));if(!e.data)return;t(e.data)}catch(r){}finally{l(!0),c(!1),e()}};return(0,i.jsxs)(f.c,{style:{width:"100%"},children:[(0,i.jsx)(m.cp,{style:{marginBottom:5},size:"small",type:"primary",onClick:()=>g(!p),children:"H\u01b0\u1edbng d\u1eabn"}),(0,i.jsx)(f.c.Item,{style:{width:"100%"},children:(0,i.jsxs)(v.c.Group,{style:{width:"100%"},compact:!0,children:[(0,i.jsx)(v.c,{id:"search-container",autoFocus:!0,style:{width:"calc(100% - 120px)"},placeholder:"T\xecm ki\u1ebfm h\u1ecdc ph\u1ea7n",onChange:e=>r(e.target.value),onKeyPress:e=>{"Enter"===e.key&&x()}}),(0,i.jsx)(m.cp,{id:"search-button",icon:(0,i.jsx)(h.SearchOutlined,{}),type:"primary",loading:n,onClick:x,children:"T\xecm ki\u1ebfm"})]})}),(0,i.jsxs)(f.c.Item,{children:[n&&(0,i.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",background:"#ffffff90",zIndex:100},children:(0,i.jsx)(b.c,{})}),(0,i.jsx)(C.c,{id:"course-list",pagination:{pageSize:9,hideOnSinglePage:!0},dataSource:e,renderItem:e=>(0,i.jsx)(C.c.Item,{actions:[(0,i.jsx)(m.cp,{type:"link",onClick:()=>{u({course:e,visible:!0})},children:"Th\xeam"})],children:(0,i.jsx)(C.c.Item.Meta,{title:e.name,description:e.key})})})]}),o&&(0,i.jsx)(S.c,{}),(0,i.jsx)(N,{open:d.visible,course:d.course,onClose:()=>u((e=>({...e,visible:!1})))}),(0,i.jsx)(w.c,{open:p,onClose:()=>g(!1),steps:K})]})},F=()=>(0,i.jsxs)(l,{children:[(0,i.jsx)(r.S,{children:(0,i.jsx)("title",{children:"C\xf4ng c\u1ee5 t\xednh \u0111i\u1ec3m trung b\xecnh | w5 tools"})}),(0,i.jsxs)(c.c,{style:{padding:10},children:[(0,i.jsx)(s.c,{lg:8,md:8,xs:24,children:(0,i.jsx)(O,{})}),(0,i.jsx)(s.c,{lg:16,md:16,xs:24,children:(0,i.jsx)(j,{})})]})]})},26648:(e,t,n)=>{n.d(t,{c:()=>c});const c=n(6838).c.create({baseURL:"https://api.tools.thangved.com/"})}}]);